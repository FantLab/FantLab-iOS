require 'yaml'

ENV["COCOAPODS_DISABLE_STATS"] = "1"

platform :ios, '11.0'

workspace 'FantLab-iOS'

project 'FantLab-iOS.xcodeproj'
project 'Modules.xcodeproj'

use_modular_headers!
inhibit_all_warnings!

def all_pods
	pod 'RxSwift', '4.4.0'
    pod 'YYWebImage', '1.0.5'
    pod 'ALLKit', :git => 'https://github.com/geor-kasapidi/ALLKit', :tag => 'v0.1.1'
    pod 'Fabric'
    pod 'Crashlytics'
end

target 'FantLab-iOS' do
	project 'FantLab-iOS.xcodeproj'

	all_pods

	target 'FantLab-iOSTests' do
		inherit! :search_paths
	end
end

modules = YAML.load_file('Modules.yaml')

modules.keys.sort.each do |target_name|
	target target_name do
		project 'Modules.xcodeproj'

		all_pods
	end
end
